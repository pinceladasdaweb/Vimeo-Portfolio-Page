/* 
--------------------------------------
Vimeo Portfolio Page                  
--------------------------------------
+ https://github.com/pinceladasdaweb/Vimeo-Portfolio-Page 
+ version 0.0.1 
+ Copyright 2014 Pedro Rogerio 
+ Licensed under the MIT license 

+ Documentation: https://github.com/pinceladasdaweb/Vimeo-Portfolio-Page 
*/var Vimeo=function(a,b){"use strict";var c={config:function(a){this.url="./request.php?user="+a.user,this.limit=a.limit||12,this.body=b.querySelector("body"),this.loader=b.querySelector(".loading")},supportsSvg:function(){return b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},xhr:function(){return new a.XMLHttpRequest},getJSON:function(a,b){var d=c.xhr();a.url=a.url||location.href,a.data=a.data||null,d.open("GET",a.url,!0),d.send(a.data),d.onreadystatechange=function(){200===d.status&&4===d.readyState&&b(JSON.parse(d.responseText))}},create:function(a,c){var d,e=b.createElement(a);for(d in c)c.hasOwnProperty(d)&&(e[d]=c[d]);return e},loop:function(a,b){for(var c=0,d=a.length;d>c;)b(a[c],c),c+=1},userProfile:function(a){var c,d,e,f,g,h,i=this,j=b.querySelector("#header"),k=b.createTextNode(a.profile.display_name),l=a.profile.portrait_medium,m=b.createTextNode(a.profile.location),n=b.createDocumentFragment();c=i.create("figure",{className:"profile-avatar"}),d=i.create("img",{src:l}),e=i.create("h1",{className:"profile-name"}),f=i.create("ul",{className:"field-list"}),h=i.create("p",{className:"profile-fields"}),g=i.create("div",{className:"profile-location fi-marker"}),c.appendChild(d),e.appendChild(k),g.appendChild(m),n.appendChild(c),n.appendChild(e),n.appendChild(g),j.appendChild(n)},userProjects:function(a){var c=this,d=0;c.loop(a.videos,function(a){if(d<c.limit){var e,f,g,h,i,j,k,l,m=a.url,n=a.thumbnail_medium,o=b.createTextNode(a.title),p=a.title,q=b.createTextNode(a.tags),r=b.querySelector(".portfolio-list"),s=b.createDocumentFragment();f=c.create("ul",{className:"field-list"}),g=c.create("li",{className:"portfolio-item"}),i=c.create("div",{className:"portfolio-content"}),j=c.create("p",{className:"portfolio-fields"}),k=c.create("figure",{className:"portfolio-cover",title:p}),h=c.create("a",{href:m}),l=c.create("img",{className:"portfolio-image",src:n}),e=c.create("h2",{className:"portfolio-title"}),h.appendChild(l),k.appendChild(h),i.appendChild(k),e.appendChild(o),i.appendChild(e),j.appendChild(q),i.appendChild(j),g.appendChild(i),s.appendChild(g),r.appendChild(s.cloneNode(!0)),d++}})},createHeader:function(){var a,c=this,d=b.createDocumentFragment();a=c.create("header",{className:"portfolio-header clearfix",id:"header"}),d.appendChild(a),c.body.appendChild(d)},createContent:function(){var a,c,d,e=this,f=b.createDocumentFragment();a=e.create("div",{className:"content-area clearfix",id:"content"}),c=e.create("div",{className:"portfolio-area clearfix",id:"portfolio"}),d=e.create("ul",{className:"portfolio-list clearfix"}),c.appendChild(d),a.appendChild(c),f.appendChild(a),e.body.appendChild(f)},createFooter:function(){var a,c,d,e,f,g=this,h=b.createDocumentFragment(),i=b.createTextNode("Powered by"),j=b.createTextNode("Vimeo");a=g.create("footer",{className:"portfolio-footer clearfix",id:"footer"}),c=g.create("div",{className:"power-by",id:"power"}),d=g.create("p"),f=g.create("a",{className:"power-logo fi-social-vimeo",href:"https://vimeo.com/",title:"Vimeo"}),e=g.create("p"),f.appendChild(j),e.appendChild(f),d.appendChild(i),c.appendChild(d),c.appendChild(e),a.appendChild(c),h.appendChild(a),g.body.appendChild(h)},loading:function(a){var b=this;a.removeChild(b.loader)},handleError:function(){var a=this,c=b.createDocumentFragment(),d=a.create("p",{className:"error"}),e=b.createTextNode("An error ocurred, try again later.");d.appendChild(e),c.appendChild(d),a.body.appendChild(c)},attach:function(a){var b=this;b.createHeader(),b.createContent(),b.createFooter(),b.userProfile(a),b.userProjects(a)},request:function(){var a,b=this,c=b.body;b.supportsSvg()||(b.loader.src="./assets/css/img/loading.gif"),b.getJSON({url:b.url},function(d){a=d.profile,a?(b.loading(c),b.attach(d)):(b.loading(c),b.handleError())})},profile:function(a){c.config(a),c.request()}};return{profile:c.profile}}(window,document);